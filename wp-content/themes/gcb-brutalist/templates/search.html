<!-- wp:template-part {"slug":"header","tagName":"header"} /-->

<!-- wp:html -->
<style>
/* CRITICAL: Force uniform 3x3 grid - Override WordPress inline styles */
.search-results-grid .wp-block-post-template.gcb-bento-grid__container {
	display: grid !important;
	grid-template-columns: repeat(3, 1fr) !important;
	gap: 2rem !important;
	grid-auto-rows: 400px !important;
	align-items: stretch !important;
}

/* Override flow layout margins */
ul.gcb-bento-grid__container > li.wp-block-post {
	margin: 0 !important;
	margin-block-start: 0 !important;
	margin-block-end: 0 !important;
}

/* Force all cards to 400px height */
.search-results-grid .bento-item.gcb-bento-card,
.search-results-page .bento-item.gcb-bento-card {
	height: 400px !important;
	min-height: 400px !important;
	max-height: 400px !important;
	box-sizing: border-box !important;
}

/* Responsive grid heights */
@media (max-width: 768px) {
	.search-results-grid .wp-block-post-template.gcb-bento-grid__container {
		grid-template-columns: 1fr !important;
		grid-auto-rows: 380px !important;
	}
	.search-results-grid .bento-item.gcb-bento-card {
		height: 380px !important;
		min-height: 380px !important;
		max-height: 380px !important;
	}
}

@media (min-width: 769px) and (max-width: 1024px) {
	.search-results-grid .wp-block-post-template.gcb-bento-grid__container {
		grid-template-columns: repeat(2, 1fr) !important;
	}
}
</style>
<!-- /wp:html -->

<!-- wp:group {"tagName":"main","style":{"spacing":{"margin":{"top":"var:preset|spacing|50"},"padding":{"right":"var:preset|spacing|30","left":"var:preset|spacing|30"}}},"layout":{"type":"constrained"}} -->
<main id="main-content" class="wp-block-group search-results-page" style="margin-top:var(--wp--preset--spacing--50);padding-right:var(--wp--preset--spacing--30);padding-left:var(--wp--preset--spacing--30)">

	<!-- Search Header -->
	<!-- wp:group {"style":{"spacing":{"margin":{"bottom":"var:preset|spacing|50"}}},"layout":{"type":"constrained"}} -->
	<div class="wp-block-group search-header" style="margin-bottom:var(--wp--preset--spacing--50)">

		<!-- wp:heading {"level":1,"style":{"typography":{"fontFamily":"var(--wp--preset--font-family--playfair)","fontSize":"3rem","textTransform":"uppercase","letterSpacing":"0.02em"},"color":{"text":"var(--wp--preset--color--off-white)"},"spacing":{"margin":{"bottom":"var:preset|spacing|30"}}}} -->
		<h1 class="wp-block-heading search-title has-off-white-color has-text-color" style="margin-bottom:var(--wp--preset--spacing--30);font-family:var(--wp--preset--font-family--playfair);font-size:3rem;text-transform:uppercase;letter-spacing:0.02em">SEARCH RESULTS</h1>
		<!-- /wp:heading -->

		<!-- wp:paragraph {"style":{"typography":{"fontFamily":"var(--wp--preset--font-family--mono)","fontSize":"1rem"},"color":{"text":"var(--wp--preset--color--brutal-grey)"},"spacing":{"margin":{"bottom":"var:preset|spacing|30"}}}} -->
		<p class="search-query-display has-brutal-grey-color has-text-color" style="margin-bottom:var(--wp--preset--spacing--30);font-family:var(--wp--preset--font-family--mono);font-size:1rem">Showing results for: <span class="search-query-term"></span></p>
		<!-- /wp:paragraph -->

		<!-- wp:separator {"style":{"spacing":{"margin":{"top":"0","bottom":"var:preset|spacing|40"}},"color":{"background":"var(--wp--preset--color--brutal-border)"}},"backgroundColor":"brutal-border","className":"is-style-wide"} -->
		<hr class="wp-block-separator has-text-color has-brutal-border-background-color has-alpha-channel-opacity has-brutal-border-background-color has-background is-style-wide" style="margin-top:0;margin-bottom:var(--wp--preset--spacing--40);color:var(--wp--preset--color--brutal-border);background-color:var(--wp--preset--color--brutal-border)"/>
		<!-- /wp:separator -->

	</div>
	<!-- /wp:group -->

	<!-- Search Results Query (inherits ?s=query automatically) -->
	<!-- wp:query {"queryId":2,"query":{"perPage":9,"pages":0,"offset":0,"postType":"post","order":"desc","orderBy":"date","inherit":true},"align":"wide"} -->
	<div class="wp-block-query alignwide search-results-grid">

		<!-- wp:post-template {"className":"gcb-bento-grid__container","style":{"spacing":{"blockGap":"2rem"}}} -->

			<!-- wp:group {"className":"bento-item gcb-bento-card","style":{"border":{"width":"2px","style":"solid","color":"var(--wp--preset--color--brutal-border)"},"spacing":{"padding":"0"},"background":{"color":"var(--wp--preset--color--void-black)"},"dimensions":{"minHeight":"400px"}},"layout":{"type":"flex","orientation":"vertical"}} -->
			<div class="wp-block-group bento-item gcb-bento-card" style="border-width:2px;border-style:solid;border-color:var(--wp--preset--color--brutal-border);padding:0;background-color:var(--wp--preset--color--void-black)">

				<!-- wp:post-featured-image {"isLink":true,"aspectRatio":"16/9","style":{"border":{"bottom":{"width":"2px","style":"solid","color":"var(--wp--preset--color--brutal-border)"}}},"className":"search-result-thumbnail"} /-->

				<!-- wp:group {"style":{"spacing":{"padding":{"top":"1.5rem","right":"1.5rem","bottom":"1.5rem","left":"1.5rem"}}},"layout":{"type":"flex","orientation":"vertical","justifyContent":"stretch"}} -->
				<div class="wp-block-group" style="padding-top:1.5rem;padding-right:1.5rem;padding-bottom:1.5rem;padding-left:1.5rem">

					<!-- wp:post-title {"isLink":true,"level":3,"style":{"typography":{"fontFamily":"var(--wp--preset--font-family--playfair)","fontSize":"1.5rem","lineHeight":"1.3"},"color":{"text":"var(--wp--preset--color--off-white)"},"spacing":{"margin":{"bottom":"1rem"}}}} /-->

					<!-- wp:post-excerpt {"moreText":"","excerptLength":15,"style":{"typography":{"fontFamily":"var(--wp--preset--font-family--system)","fontSize":"1rem","lineHeight":"1.6"},"color":{"text":"var(--wp--preset--color--off-white)"},"spacing":{"margin":{"bottom":"1rem"}}}} /-->

					<!-- wp:post-date {"style":{"typography":{"fontFamily":"var(--wp--preset--font-family--mono)","fontSize":"0.75rem","textTransform":"uppercase"},"color":{"text":"var(--wp--preset--color--brutal-grey)"}}} /-->

				</div>
				<!-- /wp:group -->

			</div>
			<!-- /wp:group -->

		<!-- /wp:post-template -->

		<!-- wp:query-pagination {"layout":{"type":"flex","justifyContent":"center"},"style":{"spacing":{"margin":{"top":"var:preset|spacing|50"}},"typography":{"fontFamily":"var(--wp--preset--font-family--mono)","fontSize":"1rem"}}} -->
		<div class="wp-block-query-pagination" style="margin-top:var(--wp--preset--spacing--50);font-family:var(--wp--preset--font-family--mono);font-size:1rem">
			<!-- wp:query-pagination-previous {"label":"← Previous"} /-->
			<!-- wp:query-pagination-numbers /-->
			<!-- wp:query-pagination-next {"label":"Next →"} /-->
		</div>
		<!-- /wp:query-pagination -->

		<!-- wp:query-no-results -->
		<div class="wp-block-query-no-results">
			<!-- wp:paragraph {"style":{"typography":{"fontFamily":"var(--wp--preset--font-family--mono)","fontSize":"1.25rem"},"color":{"text":"var(--wp--preset--color--brutal-grey)"},"spacing":{"padding":{"top":"var:preset|spacing|50","bottom":"var:preset|spacing|50"}}}} -->
			<p class="search-no-results has-brutal-grey-color has-text-color" style="padding-top:var(--wp--preset--spacing--50);padding-bottom:var(--wp--preset--spacing--50);font-family:var(--wp--preset--font-family--mono);font-size:1.25rem">No results found. Try a different search term.</p>
			<!-- /wp:paragraph -->
		</div>
		<!-- /wp:query-no-results -->

	</div>
	<!-- /wp:query -->

</main>
<!-- /wp:group -->

<!-- wp:template-part {"slug":"footer","tagName":"footer"} /-->

<style>
/* Search Results Grid Layout */
.search-results-grid .wp-block-post-template.gcb-bento-grid__container {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 2rem;
	grid-auto-rows: 400px; /* Fixed row height for uniform grid */
	list-style: none;
	padding: 0;
	margin: 0;
}

/* Search Results Page Styling */
.search-results-page .bento-item.gcb-bento-card {
	overflow: hidden;
	display: flex;
	flex-direction: column;
	transition: none; /* No transitions per Editorial Brutalism */
	height: 100%; /* Fill grid cell */
	box-sizing: border-box; /* Include border in height calculation */
}

/* Featured Image - Fixed Height */
.search-results-grid .wp-block-post-featured-image {
	flex-shrink: 0; /* Prevent image from shrinking */
}

/* Grayscale Image Filters (match bento grid aesthetic) */
.search-results-grid .wp-block-post-featured-image img,
.search-result-thumbnail img {
	filter: grayscale(100%) contrast(1.3);
	width: 100%;
	height: 200px;
	object-fit: cover;
	display: block;
}

/* Content Area - Fill Remaining Space */
.search-results-page .bento-item.gcb-bento-card > .wp-block-group {
	flex: 1; /* Fill remaining space after image */
	display: flex;
	flex-direction: column;
	overflow: hidden; /* Prevent content overflow */
}

/* Text Content Overflow Handling */
.search-results-page .wp-block-post-excerpt {
	overflow: hidden;
	text-overflow: ellipsis;
}

.search-results-page .wp-block-post-excerpt p {
	display: -webkit-box;
	-webkit-line-clamp: 3; /* Limit to 3 lines */
	-webkit-box-orient: vertical;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* Hover Effect: Acid Lime Border */
.search-results-page .bento-item.gcb-bento-card:hover {
	border-color: var(--wp--preset--color--acid-lime, #CCFF00) !important;
}

/* Responsive Grid Columns */
@media (max-width: 768px) {
	.search-results-grid .wp-block-post-template.gcb-bento-grid__container {
		grid-template-columns: 1fr !important;
		grid-auto-rows: 380px !important; /* Slightly smaller on mobile */
	}
}

@media (min-width: 769px) and (max-width: 1024px) {
	.search-results-grid .wp-block-post-template.gcb-bento-grid__container {
		grid-template-columns: repeat(2, 1fr) !important;
		grid-auto-rows: 400px !important; /* Same height as desktop */
	}
}

@media (min-width: 1025px) {
	.search-results-grid .wp-block-post-template.gcb-bento-grid__container {
		grid-template-columns: repeat(3, 1fr) !important;
		grid-auto-rows: 400px !important; /* Consistent height */
	}
}
</style>

<script>
// Display search query in header
(function() {
	'use strict';

	const urlParams = new URLSearchParams(window.location.search);
	const query = urlParams.get('s');
	const queryDisplay = document.querySelector('.search-query-term');

	if (queryDisplay && query) {
		queryDisplay.textContent = '"' + query + '"';
	}
})();
</script>
